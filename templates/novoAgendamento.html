{% extends "base_template.html" %}

{% block stylepath %}
{{ url_for('static', filename='novoAgendamento/novoAgend.css') }}
{% endblock %}

{% block content %} <br><br>
<div class="container">
  <div class="container">
    <div class="row">

      <div class="col-md-3 text-center">
        <button class="btn btn-outline-primary w-100 mb-2" onclick="mostrarPainel('limpeza')">Limpeza</button>
        <button class="btn btn-outline-primary w-100 mb-2" onclick="mostrarPainel('conferencia')">Conferência</button>
        <button class="btn btn-outline-primary w-100 mb-2" onclick="mostrarPainel('embalar')">Embalar</button>
        <button class="btn btn-outline-primary w-100 mb-2" onclick="mostrarPainel('expedicao')">Expedição</button>
      </div>

      <div class="col-md-9">
        <div id="conteudoPainel" class="d-none p-4 border border-primary rounded"
          style="min-height: 300px; background-color: white;">
        </div>
      </div>
    </div>
  </div>

  <script>
    function mostrarPainel(etapa) {
      const painel = document.getElementById("conteudoPainel");
      painel.classList.remove("d-none");

      let titulo = '';
      let imagem = '';
      let tipo = 0;

      if (etapa == 'limpeza') {
        titulo = "Limpeza";
        imagem = "https://cdn-icons-png.flaticon.com/512/2897/2897785.png";
        tipo = 1
      }
      else if (etapa === "conferencia") {
        titulo = "Conferência";
        imagem = "https://cdn-icons-png.flaticon.com/512/5164/5164023.png";
        tipo = 3;
      } else if (etapa === "embalar") {
        titulo = "Embalar";
        imagem = "https://cdn-icons-png.flaticon.com/512/3638/3638887.png";
        tipo = 4;
      } else if (etapa === "expedicao") {
        titulo = "Expedição";
        imagem = "https://cdn-icons-png.flaticon.com/512/11344/11344700.png";
        tipo = 5;
      }

      painel.innerHTML = `
              <div class="text-center">
                <div class="mb-4 d-flex justify-content-center align-items-center gap-3">
                  <img src="${imagem}" alt="${titulo}" style="width: 50px;">
                  <h4 class="mb-0">${titulo}</h4>
                </div>
        
                <div class="border border-primary border-dashed p-4 rounded" style="border-style: dashed;">
                  <label for="path" class="d-block text-center" style="cursor: pointer;">
                    <img src="https://cdn-icons-png.flaticon.com/512/337/337946.png" alt="Upload" style="width: 40px; opacity: 0.6;"><br>
                    <span class="mt-2 d-inline-block">
                      <span class="text-primary text-decoration-underline">Faça upload do PDF </span>
                      e clique no botão abaixo para continuar.
                    </span>
                    <br>
                    <br>
                  </label>
                  <form method="post" action="/upload-pdf" enctype=multipart/form-data>
                    <input type="hidden" id="type" name="type" value=${tipo}>
                    <input type="file" id="path" name="path" accept="application/pdf" hidden>
                    <input type="submit">
                  </form>
                </div>
              </div>
            `;
    }
  </script>
  {% endblock %}