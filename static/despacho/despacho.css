/* static/despacho/despacho.css */

/* ===== Tokens (padr√£o Ja√∫ Pesca) ===== */
:root {
    --jp-bg: #eef4fb;
    --jp-surface: #ffffff;
    --jp-surface-2: #f7fbff;

    --jp-text: #0f172a;
    --jp-muted: #64748b;

    --jp-border: #dbe6f3;
    --jp-border-strong: #c7d9ef;

    /* Azul Ja√∫ Pesca (padr√£o do projeto) */
    --jp-accent: #0b5ed7;
    /* principal */
    --jp-accent-2: #084298;
    /* hover/darker */
    --jp-accent-3: #052c65;
    /* active */
    --jp-accent-rgb: 11, 94, 215;

    --jp-danger: #b91c1c;

    --jp-shadow: 0 10px 26px rgba(15, 23, 42, 0.08);

    --jp-radius: 18px;
    --jp-radius-sm: 14px;

    --jp-control-h: 44px;
}

/* fundo geral */
body {
    background-color: var(--jp-bg);
    color: var(--jp-text);
}

/* ===== painel ===== */
.panel-control {
    background: var(--jp-surface);
    color: var(--jp-text);
    border: 1px solid var(--jp-border);
    border-radius: var(--jp-radius);
    padding: 22px;
    box-shadow: var(--jp-shadow);
}

@media (max-width: 576px) {
    .panel-control {
        padding: 16px;
    }
}

.panel-title {
    display: flex;
    align-items: center;
    gap: 10px;
    padding-bottom: 14px;
    margin-bottom: 18px;
    border-bottom: 1px solid var(--jp-border);
}

.panel-title h5 {
    margin: 0;
    font-weight: 850;
    letter-spacing: 0.2px;
}

.panel-title::before {
    content: "";
    width: 10px;
    height: 26px;
    border-radius: 10px;
    background: var(--jp-accent);
}

.panel-control .text-muted {
    color: var(--jp-muted) !important;
}

/* cards */
.panel-control .card {
    border: 1px solid var(--jp-border);
    border-radius: var(--jp-radius);
    box-shadow: 0 8px 18px rgba(15, 23, 42, 0.06);
}

/* inputs */
.panel-control .form-control,
.panel-control .form-select {
    height: var(--jp-control-h);
    border-radius: var(--jp-radius-sm);
    border-color: var(--jp-border-strong);
}

.panel-control .form-control:focus,
.panel-control .form-select:focus {
    border-color: rgba(var(--jp-accent-rgb), 0.55);
    box-shadow: 0 0 0 4px rgba(var(--jp-accent-rgb), 0.14);
}

/* ===== Bot√µes (corrige contraste e briga com Bootstrap) ===== */

.btn-primary-custom {
    height: var(--jp-control-h);
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 10px;

    background: var(--jp-accent);
    border: 1px solid var(--jp-accent);
    color: #fff !important;

    font-weight: 800;
    border-radius: var(--jp-radius-sm);
    padding: 0 16px;
}

.btn-primary-custom:hover {
    background: var(--jp-accent-2);
    border-color: var(--jp-accent-2);
    color: #fff !important;
    /* impede Bootstrap de escurecer o texto */
}

.btn-primary-custom:active {
    background: var(--jp-accent-3);
    border-color: var(--jp-accent-3);
    color: #fff !important;
}

.btn-primary-custom:focus,
.btn-primary-custom:focus-visible {
    color: #fff !important;
    box-shadow: 0 0 0 4px rgba(var(--jp-accent-rgb), 0.18) !important;
}

/* Bot√£o ‚Äúbranco‚Äù (outline) ‚Äî fixa texto escuro SEMPRE */
.btn-outline-secondary {
    height: var(--jp-control-h);
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 10px;

    border-radius: var(--jp-radius-sm);
    border: 1px solid var(--jp-border-strong) !important;
    background: #fff !important;

    color: rgba(15, 23, 42, 0.88) !important;
    /* texto sempre escuro */
    font-weight: 800;
}

.btn-outline-secondary:hover {
    border-color: rgba(var(--jp-accent-rgb), 0.45) !important;
    background: rgba(var(--jp-accent-rgb), 0.08) !important;
    color: rgba(15, 23, 42, 0.92) !important;
    /* impede Bootstrap de colocar branco */
}

.btn-outline-secondary:active {
    border-color: rgba(var(--jp-accent-rgb), 0.55) !important;
    background: rgba(var(--jp-accent-rgb), 0.12) !important;
    color: rgba(15, 23, 42, 0.92) !important;
}

.btn-outline-secondary:focus,
.btn-outline-secondary:focus-visible {
    color: rgba(15, 23, 42, 0.92) !important;
    box-shadow: 0 0 0 4px rgba(var(--jp-accent-rgb), 0.14) !important;
}

/* Se existir .btn-secondary em algum modal (OK), deixa no mesmo padr√£o azul */
.panel-control .btn-secondary {
    background: var(--jp-accent) !important;
    border-color: var(--jp-accent) !important;
    color: #fff !important;
    font-weight: 800;
    border-radius: var(--jp-radius-sm);
    height: var(--jp-control-h);
}

.panel-control .btn-secondary:hover {
    background: var(--jp-accent-2) !important;
    border-color: var(--jp-accent-2) !important;
    color: #fff !important;
}

.panel-control .btn-secondary:active {
    background: var(--jp-accent-3) !important;
    border-color: var(--jp-accent-3) !important;
    color: #fff !important;
}

.btn-outline-secondary {
    height: var(--jp-control-h);
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 10px;

    border-radius: var(--jp-radius-sm);
    border-color: var(--jp-border-strong);
    color: var(--jp-text);
}

/* alerts */
.alert.alert-info {
    border: 1px solid rgba(var(--jp-accent-rgb), 0.25);
    background: rgba(var(--jp-accent-rgb), 0.08);
    color: var(--jp-text);
    border-radius: var(--jp-radius-sm);
}

/* ===== Crossdocking ===== */
.cd-actions .btn {
    min-height: var(--jp-control-h);
}

.cd-scan {
    padding: 16px;
    border: 1px dashed var(--jp-border-strong);
    border-radius: var(--jp-radius);
    background: var(--jp-surface-2);

    position: relative;
    padding-bottom: 84px;
    /* espa√ßo pro Concluir */
}

.cd-scan-title {
    font-weight: 900;
}

.cd-scan-sub {
    font-size: 0.95rem;
}

/* linha do input + contador */
.cd-scan-row {
    display: flex;
    gap: 12px;
    align-items: stretch;
}

#inpNfeBarcode.form-control {
    height: 56px;
    /* leitura fica mais confort√°vel */
    font-size: 1.05rem;
    font-weight: 650;
    letter-spacing: 0.2px;
}

/* contador: forte, mas dentro do padr√£o */
.cd-counter {
    min-width: 168px;
    border-radius: 16px;
    border: 1px solid rgba(var(--jp-accent-rgb), 0.35);
    background: linear-gradient(135deg,
            rgba(var(--jp-accent-rgb), 0.18),
            rgba(var(--jp-accent-rgb), 0.06));
    box-shadow:
        0 12px 28px rgba(var(--jp-accent-rgb), 0.10),
        0 0 0 4px rgba(var(--jp-accent-rgb), 0.10);

    display: flex;
    flex-direction: column;
    justify-content: center;
    text-align: center;
}

.cd-counter-number {
    font-size: 3rem;
    font-weight: 950;
    line-height: 1;
    color: var(--jp-accent);
    letter-spacing: 0.5px;
}

.cd-counter-label {
    font-size: 0.95rem;
    font-weight: 900;
    text-transform: uppercase;
    color: var(--jp-text);
    opacity: 0.9;
}

/* popup erro: chamativo, mas sem ‚Äúneon‚Äù */
.cd-error-popup {
    position: fixed;
    top: 86px;
    left: 50%;
    transform: translateX(-50%);

    width: min(980px, 92vw);
    padding: 16px 20px;

    background: var(--jp-danger);
    color: #fff;

    border: 4px solid rgba(255, 255, 255, 0.92);
    border-radius: 18px;

    font-weight: 950;
    font-size: 1.8rem;
    text-transform: uppercase;
    letter-spacing: 0.7px;

    z-index: 3000;
    box-shadow:
        0 18px 52px rgba(185, 28, 28, 0.30),
        0 0 0 6px rgba(185, 28, 28, 0.14);

    pointer-events: none;
}

@media (max-width: 576px) {
    .cd-error-popup {
        top: 72px;
        font-size: 1.35rem;
        padding: 14px 16px;
    }
}

/* lista de bipes */
.cd-bipes-list {
    border: 1px solid var(--jp-border);
    border-radius: var(--jp-radius);
    background: var(--jp-surface);
    padding: 10px;
    max-height: 220px;
    overflow: auto;
}

.cd-bipe-item {
    display: flex;
    justify-content: space-between;
    gap: 12px;
    padding: 8px 10px;
    border-radius: 12px;
}

.cd-bipe-item+.cd-bipe-item {
    border-top: 1px solid rgba(219, 230, 243, 0.8);
}

.cd-bipe-code {
    font-weight: 850;
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
    font-size: 0.95rem;
}

.cd-bipe-time {
    color: var(--jp-muted);
    font-size: 0.9rem;
    white-space: nowrap;
}

/* bot√£o concluir */
.cd-footer {
    position: absolute;
    right: 16px;
    bottom: 16px;
    display: flex;
    justify-content: flex-end;
    gap: 10px;
    flex-wrap: wrap;
}

/* Destaque: Marketplace selecionado + Empresa */
#cdMarketplaceInfo {
    display: inline-flex;
    align-items: center;
    gap: 8px;

    margin-top: 4px;
    padding: 6px 10px;

    border: 1px solid rgba(11, 94, 215, 0.35);
    background: rgba(11, 94, 215, 0.10);
    border-radius: 10px;

    font-weight: 800;
    font-size: 0.98rem;
    line-height: 1.2;

    color: #0b5ed7 !important;
    /* azul Ja√∫ Pesca */
    letter-spacing: 0.2px;
}

#cdMarketplaceInfo::before {
    content: "üìå";
    font-size: 1rem;
    opacity: 0.95;
}

/* "Pills" para destacar os valores (TikTok / LT Sports) */
#cdMarketplaceInfo .cd-pill {
    display: inline-flex;
    align-items: center;

    padding: 3px 8px;
    border-radius: 999px;

    background: #0b5ed7;
    color: #fff;
    font-weight: 900;
    font-size: 0.92rem;
}

#cdMarketplaceInfo .cd-pill.cd-pill--soft {
    background: rgba(11, 94, 215, 0.15);
    color: #0b5ed7;
    border: 1px solid rgba(11, 94, 215, 0.35);
}

/* =========================
   Impress√£o: Rela√ß√£o (1 p√°gina)
   ========================= */

/* fica escondido na tela */
.cd-print-sheet {
    display: none;
}

.cd-print-wrap {
    font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Noto Sans", "Liberation Sans", sans-serif;
    color: #000;
}


.cd-print-page {
    display: flex;
    flex-direction: column;
    gap: 8mm;
}

.cd-print-cut {
    border-top: 1px dashed #000;
    opacity: 0.55;
}

.cd-print-card {
    break-inside: avoid;
    page-break-inside: avoid;
    border: 2px solid #000;
    border-radius: 10px;
    padding: 14mm;
}

.cd-print-title {
    font-weight: 900;
    font-size: 18px;
    margin: 0 0 8mm 0;
}

.cd-print-meta {
    display: grid;
    grid-template-columns: 1fr;
    gap: 6px;
    font-size: 12.5px;
}

.cd-print-label {
    font-weight: 800;
}

.cd-print-value {
    font-weight: 900;
}

.cd-print-volumes {
    margin-top: 10mm;
    padding: 10mm;
    border: 2px solid #000;
    border-radius: 10px;
    text-align: center;
}

.cd-print-volumes-num {
    font-size: 42px;
    font-weight: 950;
    line-height: 1;
}

.cd-print-volumes-label {
    margin-top: 4px;
    font-size: 12px;
    font-weight: 900;
    text-transform: uppercase;
}

.cd-print-notes {
    margin-top: 8mm;
    font-size: 11px;
}

.cd-print-sign-grid {
    margin-top: 16mm;
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 12mm;
}

.cd-print-line {
    border-top: 1px solid #000;
    height: 1px;
    margin-bottom: 3mm;
}

.cd-print-sign-label {
    font-size: 11px;
    font-weight: 800;
}

@media print {
    @page {
        size: A4;
        margin: 10mm;
    }

    body {
        background: #fff !important;
    }

    /* imprime SOMENTE a folha */
    body * {
        visibility: hidden !important;
    }

    #cdPrintSheet,
    #cdPrintSheet * {
        visibility: visible !important;
    }

    #cdPrintSheet {
        display: block !important;
        position: fixed;
        inset: 0;
        padding: 0;
        margin: 0;
    }
}